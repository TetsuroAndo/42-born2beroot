# monitoring.sh で使用されているコマンドの説明

## 1. uname

- 使用例: `uname -a`
- 説明: システムの情報を表示します。`-a`オプションは全ての情報を出力します。

## 2. grep

- 使用例: `grep "physical id" /proc/cpuinfo`, `grep "^processor" /proc/cpuinfo`
- 説明: ファイル内の特定のパターンを検索します。ここでは CPU 情報を抽出するために使用されています。

## 3. sort

- 使用例: `sort`
- 説明: 入力行をソートします。重複した CPU ID を除去するために使用されています。

## 4. uniq

- 使用例: `uniq`
- 説明: 重複した行を除去します。物理 CPU の数を正確に数えるために使用されています。

## 5. wc

- 使用例: `wc -l`
- 説明: 行数、単語数、バイト数を数えます。`-l`オプションは行数のみを出力します。

## 6. free

- 使用例: `free -m`
- 説明: システムのメモリ使用状況を表示します。`-m`オプションはメガバイト単位で出力します。

## 7. awk

- 使用例: 複数箇所で使用
- 説明: テキスト処理のためのプログラミング言語です。ここでは主に特定のフィールドを抽出するために使用されています。

## 8. bc

- 使用例: `echo "scale=2; $used_mem / $total_mem * 100" | bc`
- 説明: コマンドライン計算機です。浮動小数点の計算に使用されています。

## 9. df

- 使用例: `df -Bm`
- 説明: ファイルシステムのディスク使用量を表示します。`-Bm`オプションはメガバイト単位で出力します。

## 10. top

- 使用例: `top -bn1`
- 説明: システムのプロセスをリアルタイムで表示します。`-bn1`オプションはバッチモードで 1 回だけ実行します。

## 11. who

- 使用例: `who -b`, `who`
- 説明: システムにログインしているユーザーを表示します。`-b`オプションは最後のシステム起動時刻を表示します。

## 12. lsblk

- 使用例: `lsblk`
- 説明: ブロックデバイスの情報を表示します。LVM の使用を確認するために使用されています。

## 13. ss

- 使用例: `ss -t`
- 説明: ソケットの統計を表示します。`-t`オプションは TCP 接続のみを表示します。

## 14. hostname

- 使用例: `hostname -I`
- 説明: システムのホスト名を表示します。`-I`オプションはシステムの IP アドレスを表示します。

## 15. ip

- 使用例: `ip link show`
- 説明: ネットワークデバイスの情報を表示します。MAC アドレスを取得するために使用されています。

## 16. journalctl

- 使用例: `journalctl _COMM=sudo`
- 説明: システムログを表示します。sudo コマンドの使用回数を数えるために使用されています。

## 17. wall

- 使用例: `wall "..."`
- 説明: メッセージを全てのユーザーのターミナルに表示します。スクリプトの結果を表示するために使用されています。

# monitoring.sh で参照されているパスの説明

## 1. /proc/cpuinfo

- 説明: このファイルは Linux カーネルによって提供される仮想ファイルで、システムの CPU 情報を含んでいます。
- 内容: 各 CPU コアの詳細情報（物理 ID、コア数、クロック速度など）が記載されています。
- 使用目的: スクリプト内で CPU の物理数と仮想数を取得するために使用されています。

## 2. /dev/

- 説明: このディレクトリには、システムに接続されているデバイスファイルが含まれています。
- 内容: ハードディスク、パーティション、USB デバイスなどのデバイスファイルが存在します。
- 使用目的: `df`コマンドと組み合わせて、ディスクの使用状況を確認するために参照されています。

## 3. /boot

- 説明: このディレクトリにはブートローダーの設定ファイルやカーネルイメージが格納されています。
- 内容: GRUB の設定ファイル、Linux カーネル、初期 RAM ディスクなどが含まれます。
- 使用目的: ディスク使用量の計算から除外するために参照されています（通常、/boot は別パーティションであることが多いため）。

## 4. システムログ（journalctl）

- 説明: systemd を使用するシステムでは、ジャーナルと呼ばれる中央ログシステムにログが保存されます。
- 内容: システムの起動から現在までの様々なログメッセージが含まれています。
- 使用目的: sudo コマンドの使用回数を数えるために参照されています。

## 5. ネットワークインターフェース情報

- 説明: `ip link show`コマンドによって参照される、システムのネットワークインターフェース情報です。
- 内容: 各ネットワークインターフェースの状態、MAC アドレス、設定などが含まれます。
- 使用目的: システムの MAC アドレスを取得するために使用されています。

これらのパスやファイルは、Linux システムの重要な部分を構成しており、システムの状態や設定に関する貴重な情報を提供します。monitoring.sh スクリプトは、これらの情報源を活用してシステムの様々な側面を監視し、レポートを生成しています。

// ... 既存のコンテンツ ...

# monitoring.sh で参照している値と使用しているツールの説明

## 参照している値

1. 物理 CPU 数（physical_cpu）

   - 説明: システム内の物理的な CPU の数
   - 取得方法: /proc/cpuinfo から"physical id"を抽出し、ユニークな数をカウント

2. 仮想 CPU 数（virtual_cpu）

   - 説明: システム内の論理 CPU コアの総数
   - 取得方法: /proc/cpuinfo から"processor"エントリの数をカウント

3. メモリ使用量（total_mem, used_mem）

   - 説明: システムの総メモリ量と使用中のメモリ量
   - 取得方法: free コマンドの出力から抽出

4. ディスク使用量（total_disk, used_disk）

   - 説明: システムの総ディスク容量と使用中のディスク容量
   - 取得方法: df コマンドの出力から計算

5. CPU 負荷（cpu_load）

   - 説明: 現在の CPU 使用率
   - 取得方法: top コマンドの出力から抽出

6. 最終起動時刻（last_boot）

   - 説明: システムが最後に起動された日時
   - 取得方法: who コマンドの出力から抽出

7. LVM 使用状況（lvm_use）

   - 説明: Logical Volume Manager（LVM）が使用されているかどうか
   - 取得方法: lsblk コマンドの出力を確認

8. TCP 接続数（tcp_connections）

   - 説明: 確立されている TCP 接続の数
   - 取得方法: ss コマンドの出力から計算

9. ログインユーザー数（user_log）

   - 説明: 現在システムにログインしているユーザーの数
   - 取得方法: who コマンドの出力から計算

10. IP アドレスと MAC アドレス（ip, mac）

    - 説明: システムの IP アドレスと MAC アドレス
    - 取得方法: hostname コマンドと ip link コマンドの出力から抽出

11. sudo 使用回数（sudo_count）
    - 説明: sudo コマンドが使用された回数
    - 取得方法: journalctl コマンドの出力から計算

## 使用しているツール

1. シェルスクリプト

   - 説明: Bash シェルを使用してスクリプトが書かれています
   - 目的: 各種コマンドを実行し、結果を処理するための基盤として使用

2. パイプ（|）

   - 説明: 一つのコマンドの出力を別のコマンドの入力として渡す
   - 目的: 複数のコマンドを組み合わせて複雑な処理を行う

3. コマンド置換（$()）

   - 説明: コマンドの実行結果を変数に格納する
   - 目的: コマンドの出力を後で使用するために変数に保存する

4. 条件文（if-then-else）

   - 説明: 条件に基づいて異なる処理を実行する
   - 目的: LVM の使用状況を判断するために使用

5. 算術演算
   - 説明: bc コマンドを使用して浮動小数点の計算を行う
   - 目的: メモリやディスクの使用率を計算する

これらの値とツールを組み合わせることで、monitoring.sh スクリプトはシステムの包括的な状態レポートを生成しています。各値は特定のシステムリソースや状態を表しており、使用されているツールはこれらの値を効率的に取得し処理するために選択されています。
